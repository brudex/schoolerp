(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{"/5ai":function(e,s,t){"use strict";t.r(s);var a={components:{assessmentForm:t("rAbj").a},data:function(){return{}},mounted:function(){helper.hasPermission("access-configuration")||(helper.notAccessibleMsg(),this.$router.push("/dashboard"))},methods:{},computed:{},filters:{},watch:{}},n=t("KHd+"),r=Object(n.a)(a,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"page-titles"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("h3",{staticClass:"text-themecolor"},[e._v(e._s(e.trans("exam.add_new_assessment")))])]),e._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("div",{staticClass:"action-buttons pull-right"},[t("button",{staticClass:"btn btn-info btn-sm",on:{click:function(s){return e.$router.push("/configuration/exam/assessment")}}},[t("i",{staticClass:"fas fa-list"}),e._v(" "),t("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.trans("exam.assessment")))])])])])])]),e._v(" "),t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"card card-form"},[t("div",{staticClass:"card-body p-t-20"},[t("assessment-form")],1)])])])}),[],!1,null,null,null);s.default=r.exports},rAbj:function(e,s,t){"use strict";var a={components:{},data:function(){return{assessmentForm:new Form({name:"",description:"",details:[]})}},props:["id"],mounted:function(){helper.hasPermission("access-configuration")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.id?this.get():this.addRow()},methods:{hasPermission:function(e){return helper.hasPermission(e)},addRow:function(){this.assessmentForm.details.push({name:"",code:"",max_mark:"",pass_percentage:"",description:""})},confirmDeleteDetail:function(e){var s=this;return function(t){return s.deleteDetail(e)}},deleteDetail:function(e){this.assessmentForm.details.splice(e,1)},getDetailName:function(e){return e+"_detail_name"},getDetailCode:function(e){return e+"_detail_code"},getDetailMaxMarkName:function(e){return e+"_detail_max_mark"},getDetailPassPercentageName:function(e){return e+"_detail_pass_percentage"},getDetailDescriptionName:function(e){return e+"_detail_description"},proceed:function(){this.id?this.update():this.store()},store:function(){var e=this,s=this.$loading.show();this.assessmentForm.post("/api/exam/assessment").then((function(t){toastr.success(t.message),e.assessmentForm.details=[],e.addRow(),e.$emit("completed"),s.hide()})).catch((function(e){s.hide(),helper.showErrorMsg(e)}))},get:function(){var e=this,s=this.$loading.show();axios.get("/api/exam/assessment/"+this.id).then((function(t){e.assessmentForm.name=t.name,e.assessmentForm.description=t.description,t.details.forEach((function(s){e.assessmentForm.details.push({name:s.name,code:s.code,max_mark:s.max_mark,pass_percentage:s.pass_percentage,description:s.description})})),s.hide()})).catch((function(t){s.hide(),helper.showErrorMsg(t),e.$router.push("/configuration/exam/assessment")}))},update:function(){var e=this,s=this.$loading.show();this.assessmentForm.patch("/api/exam/assessment/"+this.id).then((function(t){toastr.success(t.message),s.hide(),e.$router.push("/configuration/exam/assessment")})).catch((function(e){s.hide(),helper.showErrorMsg(e)}))}}},n=t("KHd+"),r=Object(n.a)(a,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("form",{on:{submit:function(s){return s.preventDefault(),e.proceed(s)},keydown:function(s){return e.assessmentForm.errors.clear(s.target.name)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[e._v(e._s(e.trans("exam.assessment_name")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.assessmentForm.name,expression:"assessmentForm.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:e.trans("exam.assessment_name")},domProps:{value:e.assessmentForm.name},on:{input:function(s){s.target.composing||e.$set(e.assessmentForm,"name",s.target.value)}}}),e._v(" "),t("show-error",{attrs:{"form-name":e.assessmentForm,"prop-name":"name"}})],1)]),e._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[e._v(e._s(e.trans("exam.assessment_description")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.assessmentForm.description,expression:"assessmentForm.description"}],staticClass:"form-control",attrs:{type:"text",name:"description",placeholder:e.trans("exam.assessment_description")},domProps:{value:e.assessmentForm.description},on:{input:function(s){s.target.composing||e.$set(e.assessmentForm,"description",s.target.value)}}}),e._v(" "),t("show-error",{attrs:{"form-name":e.assessmentForm,"prop-name":"description"}})],1)])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("h6",{staticClass:"card-title"},[e._v(e._s(e.trans("exam.assessment_type")))]),e._v(" "),e._l(e.assessmentForm.details,(function(s,a){return[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[e._v(e._s(e.trans("exam.assessment_detail_name"))+" \n                                "),t("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:e.confirmDeleteDetail(a)},expression:"{ok: confirmDeleteDetail(index)}"},{name:"tooltip",rawName:"v-tooltip",value:e.trans("general.delete"),expression:"trans('general.delete')"}],key:a+"_delete_detail",staticClass:"btn btn-xs btn-danger m-l-20",attrs:{type:"button"}},[t("i",{staticClass:"fas fa-times"})])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"detail.name"}],staticClass:"form-control",attrs:{type:"text",name:e.getDetailName(a),placeholder:e.trans("exam.assessment_detail_name")},domProps:{value:s.name},on:{input:function(t){t.target.composing||e.$set(s,"name",t.target.value)}}}),e._v(" "),t("show-error",{attrs:{"form-name":e.assessmentForm,"prop-name":e.getDetailName(a)}})],1)]),e._v(" "),t("div",{staticClass:"col-12 col-sm-1"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[e._v(e._s(e.trans("exam.assessment_detail_code")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.code,expression:"detail.code"}],staticClass:"form-control",attrs:{type:"text",name:e.getDetailCode(a),placeholder:e.trans("exam.assessment_detail_code")},domProps:{value:s.code},on:{input:function(t){t.target.composing||e.$set(s,"code",t.target.value)}}}),e._v(" "),t("show-error",{attrs:{"form-name":e.assessmentForm,"prop-name":e.getDetailCode(a)}})],1)]),e._v(" "),t("div",{staticClass:"col-12 col-sm-2"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[e._v(e._s(e.trans("exam.assessment_detail_max_mark")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.max_mark,expression:"detail.max_mark"}],staticClass:"form-control",attrs:{type:"number",name:e.getDetailMaxMarkName(a),placeholder:e.trans("exam.assessment_detail_max_mark")},domProps:{value:s.max_mark},on:{input:function(t){t.target.composing||e.$set(s,"max_mark",t.target.value)}}}),e._v(" "),t("show-error",{attrs:{"form-name":e.assessmentForm,"prop-name":e.getDetailMaxMarkName(a)}})],1)]),e._v(" "),t("div",{staticClass:"col-12 col-sm-2"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[e._v(e._s(e.trans("exam.assessment_detail_pass_percentage")))]),e._v(" "),t("div",{staticClass:"input-group mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.pass_percentage,expression:"detail.pass_percentage"}],staticClass:"form-control",attrs:{type:"number",name:e.getDetailPassPercentageName(a),placeholder:e.trans("exam.assessment_detail_pass_percentage")},domProps:{value:s.pass_percentage},on:{input:function(t){t.target.composing||e.$set(s,"pass_percentage",t.target.value)}}}),e._v(" "),e._m(0,!0)]),e._v(" "),t("show-error",{attrs:{"form-name":e.assessmentForm,"prop-name":e.getDetailPassPercentageName(a)}})],1)]),e._v(" "),t("div",{staticClass:"col-12 col-sm-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[e._v(e._s(e.trans("exam.assessment_detail_description")))]),e._v(" "),t("autosize-textarea",{attrs:{rows:"2",name:e.getDetailDescriptionName(a),placeholder:e.trans("resource.assessment_detail_description")},model:{value:s.description,callback:function(t){e.$set(s,"description",t)},expression:"detail.description"}}),e._v(" "),t("show-error",{attrs:{"form-name":e.assessmentForm,"prop-name":e.getDetailDescriptionName(a)}})],1)])])]})),e._v(" "),t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn btn-info btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:e.addRow}},[e._v(e._s(e.trans("exam.add_new_assessment_detail")))])])],2)]),e._v(" "),t("div",{staticClass:"card-footer text-right"},[t("router-link",{staticClass:"btn btn-danger waves-effect waves-light ",attrs:{to:"/configuration/exam/assessment"}},[e._v(e._s(e.trans("general.cancel")))]),e._v(" "),t("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[e.id?t("span",[e._v(e._s(e.trans("general.update")))]):t("span",[e._v(e._s(e.trans("general.save")))])])],1)])])}),[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[this._v("%")])])}],!1,null,null,null);s.a=r.exports}}]);
//# sourceMappingURL=create.js.map?id=0c130bdbd063d6bbef85