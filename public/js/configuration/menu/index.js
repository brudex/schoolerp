(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{UWBd:function(i,t,e){"use strict";e.r(t);var s={components:{menuForm:e("nMvY").a},data:function(){return{help_topic:""}}},n=e("KHd+"),a=Object(n.a)(s,(function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",[e("div",{staticClass:"page-titles"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("h3",{staticClass:"text-themecolor"},[i._v(i._s(i.trans("configuration.menu_configuration")))])]),i._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"action-buttons pull-right"},[e("button",{staticClass:"btn btn-info btn-sm",on:{click:function(t){return i.$router.push("/dashboard")}}},[e("i",{staticClass:"fas fa-home"}),i._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[i._v(i._s(i.trans("general.home")))])]),i._v(" "),e("help-button",{on:{clicked:function(t){i.help_topic="configuration.menu"}}})],1)])])]),i._v(" "),e("div",{staticClass:"container-fluid"},[e("menu-form")],1),i._v(" "),e("right-panel",{attrs:{topic:i.help_topic}})],1)}),[],!1,null,null,null);t.default=a.exports},nMvY:function(i,t,e){"use strict";var s={props:{setupWizard:{default:!1},configurations:{required:!1}},components:{},data:function(){return{configForm:new Form({config_type:"menu",modules:[]},!1),menus:[],help_topic:""}},mounted:function(){helper.hasPermission("access-configuration")||(helper.notAccessibleMsg(),this.$router.push("/home")),this.getPreRequisite()},methods:{getPreRequisite:function(){var i=this,t=this.$loading.show();axios.get("/api/configuration/variable?type=menu").then((function(e){i.configForm.modules=e.modules,i.menus=e.menus,i.configForm.modules.forEach((function(i){e.menus.findIndex((function(t){return t===i.menu.name}))>=0?i.menu.visibility=!0:i.menu.visibility=!1,i.menu.submenu.forEach((function(i){e.menus.findIndex((function(t){return t===i.name}))>=0?i.visibility=!0:i.visibility=!1}))})),t.hide()})).catch((function(i){t.hide(),helper.showErrorMsg(i)}))},getMenuName:function(i){return"show_"+i+"_menu"},updateSubMenu:function(i){i.visibility?i.submenu.forEach((function(i){i.visibility=!0})):i.submenu.forEach((function(i){i.visibility=!1}))},submit:function(){var i=this,t=this.$loading.show();return this.configForm.post("/api/configuration").then((function(e){return t.hide(),i.$store.dispatch("setConfig",{loaded:!1}),toastr.success(e.message),!0})).catch((function(i){return t.hide(),helper.showErrorMsg(i),!1}))}}},n=e("KHd+"),a=Object(n.a)(s,(function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body p-4"},[e("form",{on:{submit:function(t){return t.preventDefault(),i.submit(t)},keydown:function(t){return i.configForm.errors.clear(t.target.name)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 offset-md-1"},[i._l(i.configForm.modules,(function(t){return[e("h4",{staticClass:"card-title"},[i._v(i._s(i.trans(t.translation)))]),i._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.visibility,expression:"module.menu.visibility"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"1",name:i.getMenuName(t.menu.name)},domProps:{checked:Array.isArray(t.menu.visibility)?i._i(t.menu.visibility,"1")>-1:t.menu.visibility},on:{change:[function(e){var s=t.menu.visibility,n=e.target,a=!!n.checked;if(Array.isArray(s)){var o=i._i(s,"1");n.checked?o<0&&i.$set(t.menu,"visibility",s.concat(["1"])):o>-1&&i.$set(t.menu,"visibility",s.slice(0,o).concat(s.slice(o+1)))}else i.$set(t.menu,"visibility",a)},function(e){return i.updateSubMenu(t.menu)}]}}),i._v(" "),e("span",{staticClass:"custom-control-label"},[i._v(i._s(i.trans(t.menu.translation)))])])]),i._v(" "),i._l(t.menu.submenu,(function(s){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.menu.visibility,expression:"module.menu.visibility"}],staticClass:"form-group",staticStyle:{"padding-left":"40px"}},[e("label",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.visibility,expression:"submenu.visibility"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"1",name:i.getMenuName(s.name)},domProps:{checked:Array.isArray(s.visibility)?i._i(s.visibility,"1")>-1:s.visibility},on:{change:function(t){var e=s.visibility,n=t.target,a=!!n.checked;if(Array.isArray(e)){var o=i._i(e,"1");n.checked?o<0&&i.$set(s,"visibility",e.concat(["1"])):o>-1&&i.$set(s,"visibility",e.slice(0,o).concat(e.slice(o+1)))}else i.$set(s,"visibility",a)}}}),i._v(" "),e("span",{staticClass:"custom-control-label"},[i._v(i._s(i.trans(s.translation)))])])])}))]}))],2)]),i._v(" "),i.setupWizard?i._e():e("button",{staticClass:"btn btn-info waves-effect waves-light pull-right m-t-10",attrs:{type:"submit"}},[i._v(i._s(i.trans("general.save")))])])])])])])}),[],!1,null,null,null);t.a=a.exports}}]);
//# sourceMappingURL=index.js.map?id=e22864bb75f5f4d6007b